<!doctype html>

<html lang="{{ site.locale }}">

{% include "head.njk" %}

<body class="">
	{% include "sidebar.njk" %}
	  <div role="main" class="content container">
	{% block content %}{{ content | safe }}{% endblock %}
	  </div>
	<script type="text/javascript">
	
	// Array of different language greetings
	const greetings = [
		"Hello", // Default
		"Hola",
		"Bonjour",
		"Ciao",
		"Konnichiwa",
		"Hallo",
		"Ol√°",
		"Salut",
		"Hej",
		"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ",
		"‰Ω†Â•Ω",
	];
	
	// Get the <h1> element
	const helloElement = document.getElementById("welina");
	
	// Function to change the greeting randomly
	function changeGreeting() {
		// Generate a random index
		const randomIndex = Math.floor(Math.random() * greetings.length);
		
		// Update the text with a random greeting
		helloElement.textContent = greetings[randomIndex];
	}
	
	// Call the function to change the greeting on page load
	changeGreeting();
	
	</script>

<!-- At the end of <body>, just before closing tag -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const root = document.documentElement;
    const btn  = document.createElement('button');

    // Basic styling for toggle button
    Object.assign(btn.style, {
      position: 'fixed',
      top:      '1rem',
      right:    '1rem',
      padding:  '0.5rem 1rem',
      zIndex:   1000,
      border:   'none',
      borderRadius: '4px',
      backgroundColor: 'var(--link-color)',
      color: 'var(--background-color)',
      cursor: 'pointer'
    });

    btn.id = 'theme-toggle-btn';
    document.body.appendChild(btn);

    // Determine initial theme: saved or system preference
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const initial = savedTheme || (prefersDark ? 'dark' : 'light');

    function applyTheme(theme) {
      root.setAttribute('data-theme', theme);
      btn.textContent = theme === 'dark' ? '‚òÄÔ∏è Light' : 'üåô Dark';
      localStorage.setItem('theme', theme);
    }

    applyTheme(initial);

    // Toggle on click
    btn.addEventListener('click', function() {
      const next = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      applyTheme(next);
    });
  });
</script>

</body>
</html>
